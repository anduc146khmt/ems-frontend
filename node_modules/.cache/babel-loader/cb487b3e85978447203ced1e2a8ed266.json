{"ast":null,"code":"var _jsxFileName = \"/home/ducan1406/Documents/kiran_EMS/Online-Examination-System/frontend/src/components/trainee/register/traineeregister.js\";\nimport React, { Component } from 'react';\nimport './trainerRegister.css';\nimport { Row, Col, Form, Icon, Input, Button, Select, Typography } from 'antd';\nimport queryString from 'query-string';\nimport apis from '../../../services/Apis';\nimport { Post } from '../../../services/axiosCall';\nimport Alert from '../../common/alert';\nconst Option = Select.Option;\nconst Title = Typography.Title;\n\nclass TraineeRegisterForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          console.log('Received values of form: ', values);\n          console.log(this.state.testid);\n          Post({\n            url: apis.REGISTER_TRAINEE_FOR_TEST,\n            data: {\n              username: values.username,\n              name: values.name,\n              emailid: values.email,\n              contact: \"\".concat(values.prefix).concat(values.contact),\n              organisation: values.organisation,\n              testid: this.state.testid,\n              location: values.location\n            }\n          }).then(data => {\n            console.log(data.data);\n\n            if (data.data.success) {\n              this.setState({\n                inform: false,\n                user: data.data.user\n              });\n            } else {\n              this.props.form.resetFields();\n              Alert('error', 'Error!', data.data.message);\n            }\n          }).catch(error => {\n            console.log(error);\n            this.props.form.resetFields();\n            Alert('error', 'Error!', 'Server Error');\n          });\n        }\n      });\n    };\n\n    this.resendMail = () => {\n      Post({\n        url: apis.RESEND_TRAINER_REGISTRATION_LINK,\n        data: {\n          id: this.state.user._id\n        }\n      }).then(response => {\n        if (response.data.success) {\n          Alert('success', 'Success!', 'Email has been sent to your email');\n        } else {\n          Alert('error', 'Error!', response.data.message);\n        }\n      }).catch(error => {\n        console.log(error);\n        Alert('error', 'Error!', 'Server Error');\n      });\n    };\n\n    this.state = {\n      inform: true,\n      testid: null,\n      user: null\n    };\n  }\n\n  componentDidMount() {\n    let params = queryString.parse(this.props.location.search);\n    console.log(params);\n    this.setState({\n      testid: params.testid\n    });\n  }\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    const prefixSelector = getFieldDecorator('prefix', {\n      initialValue: '+91',\n      rules: [{\n        required: true,\n        message: 'Please enter contact no prefix'\n      }]\n    })(React.createElement(Select, {\n      style: {\n        width: 70\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Option, {\n      value: \"+91\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"+91\")));\n    return React.createElement(\"div\", {\n      className: \"trainee-registration-form-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.state.inform ? React.createElement(\"div\", {\n      className: \"trainee-registration-form-inner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Col, {\n      span: 12,\n      style: {\n        padding: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"Name\",\n      hasFeedback: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, getFieldDecorator('name', {\n      rules: [{\n        required: true,\n        message: 'Please input your name'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }),\n      placeholder: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 12,\n      style: {\n        padding: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"Username\",\n      hasFeedback: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, getFieldDecorator('username', {\n      rules: [{\n        required: true,\n        message: 'Please input your username'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }),\n      placeholder: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 12,\n      style: {\n        padding: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"Email Id\",\n      hasFeedback: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, getFieldDecorator('email', {\n      rules: [{\n        type: 'email',\n        message: 'The input is not valid E-mail!'\n      }, {\n        required: true,\n        message: 'Please input your E-mail!'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"mail\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }),\n      placeholder: \"Email Id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 12,\n      style: {\n        padding: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"Phone Number\",\n      hasFeedback: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, getFieldDecorator('contact', {\n      rules: [{\n        required: true,\n        message: 'Please input your phone number!'\n      }, {\n        len: 10,\n        message: 'Contact number must be 10 digit long'\n      }]\n    })(React.createElement(Input, {\n      addonBefore: prefixSelector,\n      min: 10,\n      max: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"Organisation\",\n      hasFeedback: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, getFieldDecorator('organisation', {\n      rules: [{\n        required: true,\n        message: 'Please input your name'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"idcard\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }),\n      placeholder: \"Organisation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 12,\n      style: {\n        padding: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      label: \"Location\",\n      hasFeedback: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, getFieldDecorator('location', {\n      rules: [{\n        required: true,\n        message: 'Please input your name'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"home\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }),\n      placeholder: \"Location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    })))), React.createElement(Col, {\n      span: 12,\n      style: {\n        paddingTop: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(Button, {\n      style: {\n        width: '100%'\n      },\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"login-form-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Register\")))))) : React.createElement(\"div\", {\n      className: \"reasendmail-container-register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(Title, {\n      style: {\n        color: '#fff'\n      },\n      level: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"An email containing your test link has been sent to\", ' ', this.state.user.emailid), React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.resendMail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Resend Mail\")));\n  }\n\n}\n\nconst TraineeRegister = Form.create({\n  name: 'Trainee Registration'\n})(TraineeRegisterForm);\nexport default TraineeRegister;","map":{"version":3,"sources":["/home/ducan1406/Documents/kiran_EMS/Online-Examination-System/frontend/src/components/trainee/register/traineeregister.js"],"names":["React","Component","Row","Col","Form","Icon","Input","Button","Select","Typography","queryString","apis","Post","Alert","Option","Title","TraineeRegisterForm","constructor","props","handleSubmit","e","preventDefault","form","validateFields","err","values","console","log","state","testid","url","REGISTER_TRAINEE_FOR_TEST","data","username","name","emailid","email","contact","prefix","organisation","location","then","success","setState","inform","user","resetFields","message","catch","error","resendMail","RESEND_TRAINER_REGISTRATION_LINK","id","_id","response","componentDidMount","params","parse","search","render","getFieldDecorator","prefixSelector","initialValue","rules","required","width","padding","color","type","len","paddingTop","TraineeRegister","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './trainerRegister.css';\r\nimport { Row, Col, Form, Icon, Input, Button, Select, Typography } from 'antd';\r\nimport queryString from 'query-string';\r\nimport apis from '../../../services/Apis';\r\nimport { Post } from '../../../services/axiosCall';\r\nimport Alert from '../../common/alert';\r\nconst { Option } = Select;\r\nconst { Title } = Typography;\r\nclass TraineeRegisterForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      inform: true,\r\n      testid: null,\r\n      user: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let params = queryString.parse(this.props.location.search);\r\n    console.log(params);\r\n    this.setState({\r\n      testid: params.testid,\r\n    });\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        console.log('Received values of form: ', values);\r\n        console.log(this.state.testid);\r\n        Post({\r\n          url: apis.REGISTER_TRAINEE_FOR_TEST,\r\n          data: {\r\n            username: values.username,\r\n            name: values.name,\r\n            emailid: values.email,\r\n            contact: `${values.prefix}${values.contact}`,\r\n            organisation: values.organisation,\r\n            testid: this.state.testid,\r\n            location: values.location,\r\n          },\r\n        })\r\n          .then((data) => {\r\n            console.log(data.data);\r\n            if (data.data.success) {\r\n              this.setState({\r\n                inform: false,\r\n                user: data.data.user,\r\n              });\r\n            } else {\r\n              this.props.form.resetFields();\r\n              Alert('error', 'Error!', data.data.message);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            this.props.form.resetFields();\r\n            Alert('error', 'Error!', 'Server Error');\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  resendMail = () => {\r\n    Post({\r\n      url: apis.RESEND_TRAINER_REGISTRATION_LINK,\r\n      data: {\r\n        id: this.state.user._id,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (response.data.success) {\r\n          Alert('success', 'Success!', 'Email has been sent to your email');\r\n        } else {\r\n          Alert('error', 'Error!', response.data.message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        Alert('error', 'Error!', 'Server Error');\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const prefixSelector = getFieldDecorator('prefix', {\r\n      initialValue: '+91',\r\n      rules: [{ required: true, message: 'Please enter contact no prefix' }],\r\n    })(\r\n      <Select style={{ width: 70 }}>\r\n        <Option value=\"+91\">+91</Option>\r\n      </Select>\r\n    );\r\n    return (\r\n      <div className=\"trainee-registration-form-wrapper\">\r\n        {this.state.inform ? (\r\n          <div className=\"trainee-registration-form-inner\">\r\n            <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n              <Row>\r\n                <Col span={12} style={{ padding: '5px' }}>\r\n                  <Form.Item label=\"Name\" hasFeedback>\r\n                    {getFieldDecorator('name', {\r\n                      rules: [\r\n                        { required: true, message: 'Please input your name' },\r\n                      ],\r\n                    })(\r\n                      <Input\r\n                        prefix={\r\n                          <Icon\r\n                            type=\"user\"\r\n                            style={{ color: 'rgba(0,0,0,.25)' }}\r\n                          />\r\n                        }\r\n                        placeholder=\"Name\"\r\n                      />\r\n                    )}\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={12} style={{ padding: '5px' }}>\r\n                  <Form.Item label=\"Username\" hasFeedback>\r\n                    {getFieldDecorator('username', {\r\n                      rules: [\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your username',\r\n                        },\r\n                      ],\r\n                    })(\r\n                      <Input\r\n                        prefix={\r\n                          <Icon\r\n                            type=\"user\"\r\n                            style={{ color: 'rgba(0,0,0,.25)' }}\r\n                          />\r\n                        }\r\n                        placeholder=\"Name\"\r\n                      />\r\n                    )}\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={12} style={{ padding: '5px' }}>\r\n                  <Form.Item label=\"Email Id\" hasFeedback>\r\n                    {getFieldDecorator('email', {\r\n                      rules: [\r\n                        {\r\n                          type: 'email',\r\n                          message: 'The input is not valid E-mail!',\r\n                        },\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your E-mail!',\r\n                        },\r\n                      ],\r\n                    })(\r\n                      <Input\r\n                        prefix={\r\n                          <Icon\r\n                            type=\"mail\"\r\n                            style={{ color: 'rgba(0,0,0,.25)' }}\r\n                          />\r\n                        }\r\n                        placeholder=\"Email Id\"\r\n                      />\r\n                    )}\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={12} style={{ padding: '5px' }}>\r\n                  <Form.Item label=\"Phone Number\" hasFeedback>\r\n                    {getFieldDecorator('contact', {\r\n                      rules: [\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your phone number!',\r\n                        },\r\n                        {\r\n                          len: 10,\r\n                          message: 'Contact number must be 10 digit long',\r\n                        },\r\n                      ],\r\n                    })(\r\n                      <Input addonBefore={prefixSelector} min={10} max={10} />\r\n                    )}\r\n                  </Form.Item>\r\n                  <Form.Item label=\"Organisation\" hasFeedback>\r\n                    {getFieldDecorator('organisation', {\r\n                      rules: [\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your name',\r\n                        },\r\n                      ],\r\n                    })(\r\n                      <Input\r\n                        prefix={\r\n                          <Icon\r\n                            type=\"idcard\"\r\n                            style={{ color: 'rgba(0,0,0,.25)' }}\r\n                          />\r\n                        }\r\n                        placeholder=\"Organisation\"\r\n                      />\r\n                    )}\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={12} style={{ padding: '5px' }}>\r\n                  <Form.Item label=\"Location\" hasFeedback>\r\n                    {getFieldDecorator('location', {\r\n                      rules: [\r\n                        { required: true, message: 'Please input your name' },\r\n                      ],\r\n                    })(\r\n                      <Input\r\n                        prefix={\r\n                          <Icon\r\n                            type=\"home\"\r\n                            style={{ color: 'rgba(0,0,0,.25)' }}\r\n                          />\r\n                        }\r\n                        placeholder=\"Location\"\r\n                      />\r\n                    )}\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={12} style={{ paddingTop: '5px' }}>\r\n                  <Form.Item>\r\n                    <Button\r\n                      style={{ width: '100%' }}\r\n                      type=\"primary\"\r\n                      htmlType=\"submit\"\r\n                      className=\"login-form-button\">\r\n                      Register\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          </div>\r\n        ) : (\r\n          <div className=\"reasendmail-container-register\">\r\n            <Title style={{ color: '#fff' }} level={4}>\r\n              An email containing your test link has been sent to{' '}\r\n              {this.state.user.emailid}\r\n            </Title>\r\n            <Button type=\"primary\" onClick={this.resendMail}>\r\n              Resend Mail\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst TraineeRegister = Form.create({ name: 'Trainee Registration' })(\r\n  TraineeRegisterForm\r\n);\r\nexport default TraineeRegister;\r\n"]},"metadata":{},"sourceType":"module"}