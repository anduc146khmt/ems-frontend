{"ast":null,"code":"var _jsxFileName = \"/home/ducan1406/Documents/kiran_EMS/Online-Examination-System/frontend/src/components/trainee/answersheet/feedback.js\";\nimport React, { Component } from 'react';\nimport './answer.css';\nimport { connect } from 'react-redux';\nimport { Post } from '../../../services/axiosCall';\nimport apis from '../../../services/Apis';\nimport Alert from '../../common/alert';\nimport { Rate, Input, Button } from 'antd';\nimport { FeedbackStatus } from '../../../actions/traineeAction';\nconst TextArea = Input.TextArea;\n\nclass Feedback extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleStarChange = star => {\n      console.log(star);\n      this.setState({\n        star: star\n      });\n    };\n\n    this.onCommentChange = comment => {\n      this.setState({\n        comment: comment.target.value\n      });\n    };\n\n    this.submitFeedback = () => {\n      this.setState({\n        loading: true\n      });\n      let _this$state = this.state,\n          star = _this$state.star,\n          comment = _this$state.comment;\n\n      if (star !== 0 && comment.length > 0) {\n        Post({\n          url: apis.GIVE_FEEDBACK,\n          data: {\n            testid: this.props.trainee.testid,\n            userid: this.props.trainee.traineeid,\n            rating: star,\n            feedback: comment\n          }\n        }).then(response => {\n          if (response.data.success) {\n            this.setState({\n              loading: false\n            });\n            Alert('success', 'Success', 'Thanks for your feedback');\n            this.props.FeedbackStatus(true);\n          } else {\n            this.setState({\n              loading: false\n            });\n            Alert('error', 'Failed', response.data.message);\n          }\n        }).catch(error => {\n          console.log(error);\n          Alert('error', 'Failed', 'Server Error');\n          this.setState({\n            loading: false\n          });\n        });\n      } else {}\n    };\n\n    this.state = {\n      star: 0,\n      comment: '',\n      loading: false\n    };\n  }\n\n  render() {\n    const desc = ['terrible', 'bad', 'normal', 'good', 'wonderful'];\n    return React.createElement(\"div\", {\n      className: \"feedbackFormHolder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pp\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Rate, {\n      tooltips: desc,\n      onChange: this.handleStarChange,\n      value: this.state.star,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), this.state.star ? React.createElement(\"span\", {\n      className: \"ant-rate-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, desc[this.state.star - 1]) : '')), React.createElement(\"div\", {\n      className: \"pp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(TextArea, {\n      rows: 4,\n      onChange: this.onCommentChange,\n      value: this.state.comment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"pp\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.submitFeedback,\n      loading: this.state.loading,\n      style: {\n        marginTop: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  trainee: state.trainee\n});\n\nexport default connect(mapStateToProps, {\n  FeedbackStatus\n})(Feedback);","map":{"version":3,"sources":["/home/ducan1406/Documents/kiran_EMS/Online-Examination-System/frontend/src/components/trainee/answersheet/feedback.js"],"names":["React","Component","connect","Post","apis","Alert","Rate","Input","Button","FeedbackStatus","TextArea","Feedback","constructor","props","handleStarChange","star","console","log","setState","onCommentChange","comment","target","value","submitFeedback","loading","state","length","url","GIVE_FEEDBACK","data","testid","trainee","userid","traineeid","rating","feedback","then","response","success","message","catch","error","render","desc","display","justifyContent","alignItems","marginTop","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './answer.css';\r\nimport { connect } from 'react-redux';\r\nimport { Post } from '../../../services/axiosCall';\r\nimport apis from '../../../services/Apis';\r\nimport Alert from '../../common/alert';\r\nimport { Rate, Input, Button } from 'antd';\r\nimport { FeedbackStatus } from '../../../actions/traineeAction';\r\n\r\nconst { TextArea } = Input;\r\n\r\nclass Feedback extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      star: 0,\r\n      comment: '',\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  handleStarChange = (star) => {\r\n    console.log(star);\r\n    this.setState({ star: star });\r\n  };\r\n  onCommentChange = (comment) => {\r\n    this.setState({ comment: comment.target.value });\r\n  };\r\n\r\n  submitFeedback = () => {\r\n    this.setState({ loading: true });\r\n    let { star, comment } = this.state;\r\n    if (star !== 0 && comment.length > 0) {\r\n      Post({\r\n        url: apis.GIVE_FEEDBACK,\r\n        data: {\r\n          testid: this.props.trainee.testid,\r\n          userid: this.props.trainee.traineeid,\r\n          rating: star,\r\n          feedback: comment,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (response.data.success) {\r\n            this.setState({ loading: false });\r\n            Alert('success', 'Success', 'Thanks for your feedback');\r\n            this.props.FeedbackStatus(true);\r\n          } else {\r\n            this.setState({ loading: false });\r\n            Alert('error', 'Failed', response.data.message);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          Alert('error', 'Failed', 'Server Error');\r\n          this.setState({ loading: false });\r\n        });\r\n    } else {\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const desc = ['terrible', 'bad', 'normal', 'good', 'wonderful'];\r\n    return (\r\n      <div className=\"feedbackFormHolder\">\r\n        <div\r\n          className=\"pp\"\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n          }}>\r\n          <span>\r\n            <Rate\r\n              tooltips={desc}\r\n              onChange={this.handleStarChange}\r\n              value={this.state.star}\r\n            />\r\n            {this.state.star ? (\r\n              <span className=\"ant-rate-text\">{desc[this.state.star - 1]}</span>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </span>\r\n        </div>\r\n        <div className=\"pp\">\r\n          <TextArea\r\n            rows={4}\r\n            onChange={this.onCommentChange}\r\n            value={this.state.comment}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"pp\"\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n          }}>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={this.submitFeedback}\r\n            loading={this.state.loading}\r\n            style={{ marginTop: '20px' }}>\r\n            Submit\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  trainee: state.trainee,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  FeedbackStatus,\r\n})(Feedback);\r\n"]},"metadata":{},"sourceType":"module"}